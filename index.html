<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rumah Impian</title>
  <link rel="stylesheet" href="style.css">
  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>

  <!-- Header Parallax -->
  <section class="parallax parallax1">
    <div class="overlay">
      <h1>Selamat Datang di Rumah Impian</h1>
      <p>Temukan properti terbaik untuk masa depan Anda</p>
    </div>
  </section>

  <!-- Filter -->
  <section class="filters">
    <button class="filter-btn" onclick="filterProperties('all, event')">Semua</button>
    <button class="filter-btn" onclick="filterProperties('rumah, event')">Rumah</button>
    <button class="filter-btn" onclick="filterProperties('ruko, event')">Ruko</button>
    <button class="filter-btn" onclick="filterProperties('tanah, event')">Tanah</button>
  </section>

<!-- Filter Lokasi -->
<section class="filters">
  <label for="lokasi">Pilih Kecamatan:</label>
  <select id="lokasi" onchange="filterProperties()">
    <option value="all">Semua Kecamatan</option>
    <option value="banyuwangi">Banyuwangi</option>
    <option value="glagah">Glagah</option>
    <option value="giri">Giri</option>
    <option value="kalipuro">Kalipuro</option>
    <option value="wongsorejo">Wongsorejo</option>
    <option value="singojuruh">Singojuruh</option>
    <option value="rogojampi">Rogojampi</option>
    <option value="kabat">Kabat</option>
    <option value="cluring">Cluring</option>
    <option value="gambiran">Gambiran</option>
    <option value="genteng">Genteng</option>
    <option value="glenmore">Glenmore</option>
    <option value="kalibaru">Kalibaru</option>
    <option value="pesanggaran">Pesanggaran</option>
    <option value="purwoharjo">Purwoharjo</option>
    <option value="siliragung">Siliragung</option>
    <option value="tegaldlimo">Tegaldlimo</option>
    <option value="tegalsari">Tegalsari</option>
    <option value="licin">Licin</option>
    <option value="songgon">Songgon</option>
    <option value="muncar">Muncar</option>
    <option value="srono">Srono</option>
    <option value="sempu">Sempu</option>
    <option value="bangorejo">Bangorejo</option>
  </select>
</section>

<!-- DAFTAR PROPERTI -->
<section class="properties"></section>
  
  <!-- Footer Parallax -->
  <section class="parallax parallax2">
    <div class="overlay">
      <h2>Hubungi Kami</h2>
      <p>Email: rumahimpian@gmail.com</p>
      <div class="social-icons">
        <a href="#"><i class="fab fa-facebook"></i></a>
        <a href="#"><i class="fab fa-instagram"></i></a>
        <a href="#"><i class="fab fa-x-twitter"></i></a>
        <a href="#"><i class="fab fa-whatsapp"></i></a>
        <a href="#"><i class="fab fa-google"></i></a>
      </div>
    </div>
  </section>

  <!-- Script Filter -->
  <script>
function filterProperties(category = null) {
  let cards = document.querySelectorAll('.property-card');
  let buttons = document.querySelectorAll('.filter-btn');
  let lokasi = document.getElementById('lokasi').value;

  // reset tombol kategori jika ada klik baru
  if (event && event.target.classList.contains('filter-btn')) {
    buttons.forEach(btn => btn.classList.remove('active'));
    event.target.classList.add('active');
  }

  cards.forEach(card => {
    let matchCategory = true;
    let matchLocation = true;

    // cek kategori
    if (category && category !== 'all') {
      matchCategory = card.classList.contains(category);
    }

    // cek lokasi
    if (lokasi && lokasi !== 'all') {
      matchLocation = card.classList.contains(lokasi);
    }

    // tampilkan hanya jika cocok dua-duanya
    if (matchCategory && matchLocation) {
      card.style.display = 'block';
    } else {
      card.style.display = 'none';
    }
  });
}
</script>
	

 <!-- SCRIPT: Load data dari Google Sheets -->
<script>
const sheetURL = "https://docs.google.com/spreadsheets/d/1io4sT-khAjeAB7OCprlZTkf0ozrgjzECWl8cJR3VDlk/edit?usp=sharing"; // ganti dengan link CSV dari Google Sheets
let allData = [];

// Ambil data dari Google Sheets
async function loadPropertiesFromSheet() {
  const response = await fetch(sheetURL);
  const data = await response.text();
  const rows = data.split("\n").slice(1); // skip header
  allData = [];

  rows.forEach(row => {
    const [title, price, image, category, location] = row.split(",");
    if (title) {
      allData.push({ title, price, image, category, location });
    }
  });

  renderProperties(allData);
}

// Render data ke HTML
function renderProperties(data) {
  const container = document.querySelector(".properties");
  container.innerHTML = "";
  data.forEach(item => {
    container.innerHTML += `
      <div class="property-card ${item.category} ${item.location}">
        <img src="${item.image}" alt="${item.title}">
        <h3>${item.title}</h3>
        <p>Harga: ${item.price}</p>
        <p>Lokasi: ${item.location}</p>
      </div>
    `;
  });
}

// Filter kategori / lokasi
function filterProperties(filter, e) {
  document.querySelectorAll(".filter-btn").forEach(btn => btn.classList.remove("active"));
  e.target.classList.add("active");

  const filtered = filter === "all" 
    ? allData 
    : allData.filter(item => item.category === filter || item.location === filter);

  renderProperties(filtered);
}

// Load awal
loadPropertiesFromSheet();
</script>


</body>
</html>
